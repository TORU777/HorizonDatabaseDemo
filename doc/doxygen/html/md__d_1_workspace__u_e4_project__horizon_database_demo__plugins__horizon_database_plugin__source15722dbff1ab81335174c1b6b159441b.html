<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HorizonDatabasePlugin: Firebird Backend Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HorizonDatabasePlugin
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
   <div id="projectbrief">SOCI wrapper for UE4(beta)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Firebird Backend Reference </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li><a href="#prerequisites">Prerequisites</a><ul>
<li><a href="#versions">Supported Versions</a></li>
<li><a href="#platforms">Tested Platforms</a></li>
<li><a href="#required">Required Client Libraries</a></li>
</ul>
</li>
<li><a href="#connecting">Connecting to the Database</a></li>
<li><a href="#features">SOCI Feature Support</a><ul>
<li><a href="#dynamic">Dynamic Binding</a></li>
<li><a href="#name">Binding by Name</a></li>
<li><a href="#bulk">Bulk Operations</a></li>
<li><a href="#transactions">Transactions</a></li>
<li><a href="#blob">BLOB Data Type</a></li>
<li><a href="#rowid">RowID Data Type</a></li>
<li><a href="#nested">Nested Statements</a></li>
<li><a href="#stored">Stored Procedures</a></li>
</ul>
</li>
<li><a href="#native">Accessing the Native Database API</a></li>
<li><a href="#extensions">Backend-specific Extensions</a></li>
<li><a href="#configuration">Configuration options</a><ul>
<li><a href="#firebirdsocierror">FirebirdSOCIError</a></li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="prerequisites"></a> Prerequisites</h3>
<h4><a class="anchor" id="versions"></a> Supported Versions</h4>
<p>The SOCI Firebird backend supports versions of Firebird from 1.5 to 2.5 and can be used with either the client-server or embedded Firebird libraries. The former is the default, to select the latter set <code>SOCI_FIREBIRD_EMBEDDED</code> CMake option to <code>ON</code> value when building.</p>
<h4><a class="anchor" id="tested"></a> Tested Platforms</h4>
<table class="doxtable">
</table>
<p>Firebird version</p>
<p>Operating System</p>
<p>Compiler </p>
<p>1.5.2.4731</p>
<p>SunOS 5.10</p>
<p>g++ 3.4.3 </p>
<p>1.5.2.4731</p>
<p>Windows XP</p>
<p>Visual C++ 8.0 </p>
<p>1.5.3.4870</p>
<p>Windows XP</p>
<p>Visual C++ 8.0 Professional </p>
<p>2.5.2.26540</p>
<p>Debian GNU/Linux 7</p>
<p>g++ 4.7.2 &lt;/tbody&gt; </p>
<h4><a class="anchor" id="required"></a> Required Client Libraries</h4>
<p>The Firebird backend requires Firebird's <code>libfbclient</code> client library.</p>
<h3><a class="anchor" id="connecting"></a> Connecting to the Database</h3>
<p>To establish a connection to a Firebird database, create a Session object using the firebird backend factory together with a connection string: </p><pre class="fragment">BackEndFactory const &amp;backEnd = firebird;
Session sql(backEnd,
        "service=/usr/local/firbird/db/test.fdb user=SYSDBA password=masterkey");
</pre><p>or simply: </p><pre class="fragment">Session sql(firebird,
        "service=/usr/local/firbird/db/test.fdb user=SYSDBA password=masterkey");
</pre><p>The set of parameters used in the connection string for Firebird is:</p>
<ul>
<li>service</li>
<li>user</li>
<li>password</li>
<li>role</li>
<li>charset</li>
</ul>
<p>The following parameters have to be provided as part of the connection string : <em>service</em>, <em>user</em>, <em>password</em>. Role and charset parameters are optional.</p>
<p>Once you have created a <code>Session</code> object as shown above, you can use it to access the database, for example: </p><pre class="fragment">int count;
sql &lt;&lt; "select count(*) from user_tables", into(count);
</pre><p>(See the <a href="../basics.html">SOCI basics</a> and <a href="../exchange.html">exchanging data</a> documentation for general information on using the <code>Session</code> class.)</p>
<h3><a class="anchor" id="features"></a> SOCI Feature Support</h3>
<h4><a class="anchor" id="dynamic"></a> Dynamic Binding</h4>
<p>The Firebird backend supports the use of the SOCI <code>Row</code> class, which facilitates retrieval of data whose type is not known at compile time.</p>
<p>When calling <code>Row::get&lt;T&gt;()</code>, the type you should pass as T depends upon the underlying database type. For the Firebird backend, this type mapping is:</p>
<table class="doxtable">
</table>
<p>Firebird Data Type </p>
<p>SOCI Data Type </p>
<p><code>Row::get&lt;T&gt;</code> specializations  </p>
<p>numeric, decimal <br />
*(where scale &gt; 0)* </p>
<p><code>eDouble</code> </p>
<p><code>double</code>  </p>
<p>numeric, decimal <sup>[<a href="#note1">1</a>]</sup><br />
*(where scale = 0)* </p>
<p><code>eInteger, eDouble</code> </p>
<p><code>int, double</code>  </p>
<p>double precision, float </p>
<p><code>eDouble</code> </p>
<p><code>double</code>  </p>
<p>smallint, integer </p>
<p><code>eInteger</code> </p>
<p><code>int</code>  </p>
<p>char, varchar </p>
<p><code>eString</code> </p>
<p><code>std::string</code>  </p>
<p>date, time, timestamp </p>
<p><code>eDate</code> </p>
<p><code>std::tm</code>  &lt;/tbody&gt; </p>
<p><a class="anchor" id="note1"></a>&#160;<sup>[1]</sup> &#160;There is also 64bit integer type for larger values which is currently not supported.</p>
<p>(See the <a href="../exchange.html#dynamic">dynamic resultset binding</a> documentation for general information on using the <code>Row</code> class.)</p>
<h4><a class="anchor" id="binding"></a> Binding by Name</h4>
<p>In addition to <a href="../exchange.html#bind_position">binding by position</a>, the Firebird backend supports <a href="../exchange.html#bind_name">binding by name</a>, via an overload of the <code><a class="el" href="namespacesoci.html#a9f59a2e8d19664d5e1eae175936f1b4e">use()</a></code> function: </p><pre class="fragment">int id = 7;
sql &lt;&lt; "select name from person where id = :id", use(id, "id")
</pre><p>It should be noted that parameter binding by name is supported only by means of emulation, since the underlying API used by the backend doesn't provide this feature.</p>
<h4><a class="anchor" id="bulk"></a> Bulk Operations</h4>
<p>The Firebird backend has full support for SOCI's <a href="../statements.html#bulk">bulk operations</a> interface. This feature is also supported by emulation.</p>
<h4><a class="anchor" id="transactions"></a> Transactions</h4>
<p><a href="../statements.html#transactions">Transactions</a> are also fully supported by the Firebird backend. In fact, an implicit transaction is always started when using this backend if one hadn't been started by explicitly calling <code>begin()</code> before. The current transaction is automatically committed in <code>Session's</code> destructor.</p>
<h4><a class="anchor" id="blob"></a> BLOB Data Type</h4>
<p>The Firebird backend supports working with data stored in columns of type Blob, via SOCI's <code>[BLOB](../exchange.html::blob)</code> class.</p>
<p>It should by noted, that entire Blob data is fetched from database to allow random read and write access. This is because Firebird itself allows only writing to a new Blob or reading from existing one - modifications of existing Blob means creating a new one. Firebird backend hides those details from user.</p>
<h4><a class="anchor" id="rowid"></a> RowID Data Type</h4>
<p>This feature is not supported by Firebird backend.</p>
<h4><a class="anchor" id="nested"></a> Nested Statements</h4>
<p>This feature is not supported by Firebird backend.</p>
<h4><a class="anchor" id="stored"></a> Stored Procedures</h4>
<p>Firebird stored procedures can be executed by using SOCI's <a href="../statements.html#procedures">Procedure</a> class.</p>
<h3><a class="anchor" id="native"></a> Acessing the native database API</h3>
<p>SOCI provides access to underlying datbabase APIs via several getBackEnd() functions, as described in the <a href="../beyond.html">beyond SOCI</a> documentation.</p>
<p>The Firebird backend provides the following concrete classes for navite API access:</p>
<table class="doxtable">
</table>
<p>Accessor Function </p>
<p>Concrete Class  </p>
<p><code>SessionBackEnd* Session::getBackEnd()</code> </p>
<p><code>FirebirdSessionBackEnd</code>  </p>
<p><code>StatementBackEnd* Statement::getBackEnd()</code> </p>
<p><code>FirebirdStatementBackEnd</code>  </p>
<p><code>BLOBBackEnd* BLOB::getBackEnd()</code> </p>
<p><code>FirebirdBLOBBackEnd</code>  </p>
<p><code>RowIDBackEnd* RowID::getBackEnd()</code> &lt;td&lt;&gt;code&gt;FirebirdRowIDBackEnd  &lt;/tbody&gt; </p>
<h3><a class="anchor" id="extensions"></a> Backend-specific extensions</h3>
<h4><a class="anchor" id="firebirdsocierror"></a> FirebirdSOCIError</h4>
<p>The Firebird backend can throw instances of class <code>FirebirdSOCIError</code>, which is publicly derived from <code>SOCIError</code> and has an additional public <code>status_</code> member containing the Firebird status vector. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
